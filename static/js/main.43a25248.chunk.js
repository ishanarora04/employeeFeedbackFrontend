(this.webpackJsonpemployeefeedbackfrontend=this.webpackJsonpemployeefeedbackfrontend||[]).push([[0],{35:function(e,t,a){e.exports=a(67)},40:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),l=a.n(c),o=(a(40),a(12)),i=a(11),u=a.n(i),s=a(14),m=a(7),p=a(8),h=a(17),d=a(10),f=a(9),b=(a(42),a(43),function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).renderHeadingRow=function(){var e,t=n.props.headings,a=[],c=Object(o.a)(t);try{for(c.s();!(e=c.n()).done;){var l=e.value;a.push(r.a.createElement("th",{key:l},l))}}catch(i){c.e(i)}finally{c.f()}return a},n.renderData=function(){var e,t=n.props.rows,a=[],c=Object(o.a)(t);try{for(c.s();!(e=c.n()).done;){var l=e.value,i=[];for(var u in l)i.push(r.a.createElement("td",{key:l[u]},l[u]));a.push(r.a.createElement("tr",null,i))}}catch(s){c.e(s)}finally{c.f()}return a},n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"table card"},r.a.createElement("table",null,r.a.createElement("tr",null,this.renderHeadingRow()),r.a.createElement("tbody",null,this.renderData())))}}]),a}(n.Component)),v=(a(44),function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){return Object(m.a)(this,a),t.call(this,e)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.text,n=e.ID;return(r.a.createElement("div",null,r.a.createElement("button",{id:n,onClick:t},a)))}}]),a}(r.a.Component)),E=a(16),y=a.n(E),k=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return y()({method:"POST",url:e,responseType:"json",data:t})},g=function(e,t){return y()({method:"DELETE",url:e,responseType:"json",data:t})},j=a(18),O=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(j.a)({},r,a))},n.handleSubmit=function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),"https://tranquil-taiga-11364.herokuapp.com/v1/employee",a={name:n.state.name,email:n.state.email},e.next=5,k("https://tranquil-taiga-11364.herokuapp.com/v1/employee",a);case 5:e.sent,document.getElementById("employeeForm").reset(),n.props.updateTable();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={},n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("form",{onSubmit:this.handleSubmit,id:"employeeForm"},r.a.createElement("div",{className:"form-row"},r.a.createElement("label",null,"Employee Name:"," ",r.a.createElement("input",{type:"text",name:"name",onChange:this.handleChange}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("label",null,"Employee Email:"," ",r.a.createElement("input",{type:"text",name:"email",onChange:this.handleChange}))),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",value:"Add Employee"}))))}}]),a}(r.a.Component),w=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.fetchEmployees()},e.fetchEmployees=function(){fetch("https://tranquil-taiga-11364.herokuapp.com/v1/fetchEmployees").then((function(e){return e.json()})).then((function(t){return e.setState({employees:t.data})}))},e.delete=function(){var t=Object(s.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://tranquil-taiga-11364.herokuapp.com/v1/employee",n={_id:a},t.next=4,g("https://tranquil-taiga-11364.herokuapp.com/v1/employee",n);case 4:200===t.sent.status&&e.setState({employees:[]}),e.fetchEmployees();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={employees:[]},e.updateTable=e.updateTable.bind(Object(h.a)(e)),e}return Object(p.a)(a,[{key:"updateTable",value:function(){console.log("called props"),this.fetchEmployees()}},{key:"render",value:function(){var e,t=this,a=[],n=Object(o.a)(this.state.employees);try{var c=function(){var n=e.value,c={};c.name=n.name,c.email=n.email,c.update=n.feedback,c.delete=r.a.createElement(v,{onClick:function(){return t.delete(n._id)},text:"Delete",ID:n._id}),a.push(c)};for(n.s();!(e=n.n()).done;)c()}catch(l){n.e(l)}finally{n.f()}return(r.a.createElement("div",{className:"App"},r.a.createElement("table",null,r.a.createElement("tr",{style:{textAlign:"right"}},r.a.createElement("a",{href:"/feedback"},"Feedback")),r.a.createElement("tr",null,r.a.createElement(b,{headings:["Name","Email","Feedback","Delete"],rows:a})),r.a.createElement("tr",null),r.a.createElement("tr",null,r.a.createElement(O,{updateTable:this.updateTable})))))}}]),a}(r.a.Component),C=a(33),x=a(1);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).fetchEmployeesToAssign=function(){fetch("https://tranquil-taiga-11364.herokuapp.com/v1/fetchEmployeesToAssign?emp_id=5f1d6c1321c54464a647fbc8").then((function(e){return e.json()})).then((function(e){return n.setState({employees:e.data,name:e.data.length>0?e.data[0]._id:void 0})}))},n.handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(j.a)({},r,a))},n.handleSubmit=function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),"https://tranquil-taiga-11364.herokuapp.com/v1/feedback",a={from:"5f1d6c1321c54464a647fbc8",to:n.state.name,feedback:n.state.feedback},e.next=5,k("https://tranquil-taiga-11364.herokuapp.com/v1/feedback",a);case 5:e.sent,document.getElementById("feedbackForm").reset(),n.fetchEmployeesToAssign();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={employees:[]},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.fetchEmployeesToAssign()}},{key:"render",value:function(){var e,t=[],a=Object(o.a)(this.state.employees);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push(r.a.createElement("option",{value:n._id},n.email))}}catch(l){a.e(l)}finally{a.f()}var c="";return 0==this.state.employees.length&&(c="No employees left for feedback"),r.a.createElement("div",{className:"card"},r.a.createElement("tr",{style:{textAlign:"right"}},r.a.createElement("a",{href:"/app"},"App")),c,r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:this.handleSubmit,id:"feedbackForm"},r.a.createElement("div",{className:""},r.a.createElement("label",null,"Employee List:"),r.a.createElement("select",{name:"name",onChange:this.handleChange},t)),r.a.createElement("div",{className:"form-row"},r.a.createElement("label",null,"Feedback:"," ",r.a.createElement("textarea",{type:"text",rows:"10",cols:"30",name:"feedback",onChange:this.handleChange}))),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",value:"Submit"}))))}}]),a}(r.a.Component);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C.a,null,r.a.createElement(x.c,null,r.a.createElement(x.a,{path:"/feedback"},r.a.createElement(S,null)),r.a.createElement(x.a,{path:"/"},r.a.createElement(w,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.43a25248.chunk.js.map